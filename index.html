<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#f7f1e6" media="(prefers-color-scheme: light)" />
  <meta name="theme-color" content="#1a1a1a" media="(prefers-color-scheme: dark)" />
  <meta name="description" content="Browse and search Rock Band 3 songs from your RPCS3 library" />
  <title>Gig-E's Rock Band Songs DB</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Gig-E's Rock Band Songs DB</h1>
    <div class="badge" id="status">Loading catalog…</div>
    <div class="meta" id="last-updated">Last built: —</div>
    <button class="settings-btn" id="settings-btn">⚙️ Settings</button>
  </header>

  <main>
    <section class="panel">
      <div class="controls">
        <div>
          <label for="search">Search</label>
          <input id="search" type="text" placeholder="Artist, title, album, pack…" />
        </div>
        <div>
          <label for="artist">Artist</label>
          <select id="artist"></select>
        </div>
        <div>
          <label for="title">Title</label>
          <select id="title"></select>
        </div>
        <div>
          <label for="type">Type</label>
          <select id="type"></select>
        </div>
        <div>
          <label for="pack">Pack</label>
          <select id="pack"></select>
        </div>
        <div>
          <label for="genre">Genre</label>
          <select id="genre"></select>
        </div>
        <div>
          <label for="year">Decade</label>
          <select id="year"></select>
        </div>
        <div class="inline">
          <input id="eurovision" type="checkbox" />
          <label for="eurovision">Eurovision</label>
        </div>
        <div class="inline">
          <button id="update">Update DB</button>
          <button class="ghost" id="reset">Reset filters</button>
        </div>
      </div>
      <div class="notice" id="notice"></div>
    </section>

    <section class="panel">
      <div class="badge" id="count">0 songs</div>
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>Artist</th>
              <th>Title</th>
              <th>Album</th>
              <th>Year</th>
              <th>Type</th>
              <th>Pack</th>
              <th>Source</th>
            </tr>
          </thead>
          <tbody id="songs-body"></tbody>
        </table>
        <div id="song-cards" class="song-cards"></div>
      </div>
    </section>

    <section class="panel">
      <h3>Sources</h3>
      <div class="sources" id="sources"></div>
    </section>
  </main>

  <div class="modal" id="settings-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Settings</h2>
        <button class="modal-close" id="settings-close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="setting-group">
          <label for="dev-hdd0-path">dev_hdd0 Directory Path</label>
          <input type="text" id="dev-hdd0-path" placeholder="/home/user/.config/rpcs3/dev_hdd0" />
          <div class="setting-hint">Absolute path to your RPCS3 dev_hdd0 directory containing songs.dta files</div>
          <div class="setting-status" id="path-status"></div>
        </div>
        <div class="modal-actions">
          <button class="primary" id="save-settings">Save & Rebuild</button>
          <button class="ghost" id="validate-path">Validate Path</button>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
